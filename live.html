<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Live - Diaspora Live Market - GoBot</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="assets/css/styles.css">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'gobot-red': '#CD3446',
                        'gobot-red-secondary': '#CB2C3F',
                        'gobot-red-alt': '#CC3143',
                        'gobot-blue': '#0F2E4A',
                        'gobot-white': '#FFFFFF'
                    }
                }
            }
        }
    </script>
    <style>
        /* D√©sactiver l'arri√®re-plan tech sur cette page */
        body {
            background: #f3f4f6 !important;
        }
        
        .tech-background::before,
        .tech-background::after {
            display: none !important;
        }
        
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .animate-fadeInUp {
            animation: fadeInUp 0.4s ease-out;
        }
        
        .live-badge {
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.7; }
        }
        
        .chat-container {
            height: calc(100vh - 200px);
        }
        
        .video-wrapper {
            position: relative;
            width: 100%;
            padding-bottom: 56.25%; /* Ratio 16:9 */
            height: 0;
            background: #000;
        }
        
        .video-wrapper video {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        .main-content {
            display: flex;
            max-width: 1400px;
            margin: 0 auto;
            gap: 24px;
            padding: 24px;
        }
        
        .video-section {
            flex: 1;
            min-width: 0;
        }
        
        .chat-section {
            width: 380px;
            flex-shrink: 0;
        }
        
        .live-chat {
            height: 650px;
            background: #fff;
            border: 1px solid #e0e0e0;
            border-radius: 12px;
            display: flex;
            flex-direction: column;
        }
        
        .chat-header {
            padding: 16px;
            border-bottom: 1px solid #e0e0e0;
            background: #f8f9fa;
            border-radius: 12px 12px 0 0;
        }
        
        .chat-messages {
            flex: 1;
            overflow-y: auto;
            padding: 12px;
        }
        
        .chat-input-section {
            padding: 12px;
            border-top: 1px solid #e0e0e0;
            background: #f8f9fa;
            border-radius: 0 0 12px 12px;
        }
        
        @media (max-width: 1024px) {
            .main-content {
                flex-direction: column;
                padding: 12px;
            }
            
            .chat-section {
                width: 100%;
            }
            
            .live-chat {
                height: 400px;
            }
        }
    </style>
</head>
<body class="min-h-screen bg-gray-100">
    <!-- Navigation -->
    <nav class="bg-white shadow-lg sticky top-0 z-50">
        <div class="container mx-auto px-4">
            <div class="flex justify-between items-center py-4">
                <div class="flex items-center">
                    <h1 class="text-2xl font-bold text-gobot-blue">
                        Go<span class="text-gobot-red">Bot</span>
                    </h1>
                </div>
                <div class="hidden lg:flex space-x-6 items-center">
                    <a href="index.html" class="text-gobot-blue hover:text-gobot-red font-medium transition-colors">Accueil</a>
                    <a href="live-events.html" class="text-gobot-blue hover:text-gobot-red font-medium transition-colors">Live Events</a>
                    <a href="fenou-higbe-market.html" class="text-gobot-blue hover:text-gobot-red font-medium transition-colors">Diaspora Live Market</a>
                    <a href="live.html" class="text-gobot-red font-medium">üî¥ Live</a>
                    <a href="contact.html" class="text-gobot-blue hover:text-gobot-red font-medium transition-colors">Contact</a>
                </div>
                <button id="mobile-menu-btn" class="lg:hidden text-gobot-blue">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
                    </svg>
                </button>
            </div>
            
            <!-- Mobile Menu -->
            <div id="mobile-menu" class="hidden lg:hidden bg-white shadow-lg">
                <a href="index.html" class="block py-2 text-gobot-blue hover:text-gobot-red">Accueil</a>
                <a href="live-events.html" class="block py-2 text-gobot-blue hover:text-gobot-red">Live Events</a>
                <a href="fenou-higbe-market.html" class="block py-2 text-gobot-blue hover:text-gobot-red">Diaspora Live Market</a>
                <a href="live.html" class="block py-2 text-gobot-red">üî¥ Live</a>
                <a href="contact.html" class="block py-2 text-gobot-blue hover:text-gobot-red">Contact</a>
            </div>
        </div>
    </nav>

    <!-- Contenu principal du live -->
    <div class="main-content">
        <!-- Section vid√©o -->
        <div class="video-section">
            <!-- Player vid√©o -->
            <div class="video-wrapper">
                <video
                    id="live-video"
                    autoplay
                    muted
                    controls
                    loop
                    poster="https://images.unsplash.com/photo-1556742049-0cfed4f6a45d?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2340&q=80"
                >
                    <!-- Vid√©o de d√©monstration d'un march√© africain -->
                    <source src="https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4" type="video/mp4">
                    <!-- Fallback avec une autre vid√©o -->
                    <source src="https://sample-videos.com/zip/10/mp4/SampleVideo_1280x720_1mb.mp4" type="video/mp4">
                    <!-- Vid√©o locale si disponible -->
                    <source src="assets/videos/live-demo.mp4" type="video/mp4">
                    Votre navigateur ne supporte pas la vid√©o.
                </video>
                
                <!-- Badge Live -->
                <div class="absolute top-4 left-4 bg-red-600 text-white px-3 py-1 rounded text-sm font-bold live-badge flex items-center">
                    <div class="w-2 h-2 bg-white rounded-full mr-2 animate-pulse"></div>
                    EN DIRECT
                </div>
                
                <!-- Compteur de viewers -->
                <div class="absolute top-4 right-4 bg-black bg-opacity-70 text-white px-3 py-1 rounded text-sm">
                    üë• <span id="viewer-count">247</span> spectateurs
                </div>
                
                <!-- Message si pas de vid√©o -->
                <div id="no-video-message" class="absolute inset-0 flex items-center justify-center bg-black bg-opacity-80 text-white text-center p-8" style="display: none;">
                    <div>
                        <h2 class="text-2xl font-bold mb-4">üé• Live en pr√©paration</h2>
                        <p class="text-lg mb-4">Le live commencera bient√¥t !</p>
                        <p class="text-sm opacity-75">Restez connect√©s pour d√©couvrir les produits b√©ninois en direct depuis Bohicon</p>
                    </div>
                </div>
            </div>
            
            <!-- Informations de la vid√©o -->
            <div class="mt-4">
                <h1 class="text-2xl font-bold text-gray-900 mb-2">üéâ Diaspora Live Market - Direct depuis Bohicon</h1>
                <div class="flex items-center text-gray-600 text-sm mb-4">
                    <span class="mr-4">üë• <span id="viewer-count-info">247</span> spectateurs</span>
                    <span class="mr-4">üïí D√©marr√© il y a 15 min</span>
                    <span>üìç Bohicon, B√©nin</span>
                </div>
                <p class="text-gray-700 mb-4">
                    D√©couvrez en direct les meilleurs produits artisanaux b√©ninois ! √âchangez avec nos exposants, 
                    posez vos questions et commandez vos produits pr√©f√©r√©s via GoBot.
                </p>
                
                <!-- Actions rapides -->
                <div class="flex gap-3 mb-6">
                    <button onclick="commanderProduit('general')" class="bg-gobot-red text-white px-6 py-2 rounded-lg hover:bg-gobot-red-secondary transition-colors font-semibold">
                        üõí Commander maintenant
                    </button>
                    <button onclick="window.open('https://wa.me/22997970370?text=Je%20veux%20plus%20d\'informations%20sur%20le%20live', '_blank')" class="border border-gray-300 text-gray-700 px-6 py-2 rounded-lg hover:bg-gray-50 transition-colors">
                        üìû Nous contacter
                    </button>
                </div>
            </div>
        </div>

        <!-- Section chat -->
        <div class="chat-section">
            <div class="live-chat">
                <!-- En-t√™te du chat -->
                <div class="chat-header">
                    <h3 class="font-bold text-lg text-gray-900">üí¨ Chat en direct</h3>
                    <p class="text-sm text-gray-600">√âchangez avec les exposants</p>
                </div>

                <!-- Messages du chat -->
                <div id="chat-messages" class="chat-messages space-y-3">
                    <div class="animate-fadeInUp">
                        <div class="flex items-start space-x-2">
                            <div class="w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center text-white text-sm font-bold">D</div>
                            <div class="flex-1">
                                <div class="flex items-center space-x-2">
                                    <span class="font-semibold text-sm text-gray-900">Diaspora (Paris)</span>
                                    <span class="text-xs text-gray-500">üá´üá∑</span>
                                    <span class="text-xs text-gray-500">Il y a 2 min</span>
                                </div>
                                <p class="text-sm text-gray-700">Bonjour üëã est-ce que le savon noir est disponible en pack ?</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="animate-fadeInUp">
                        <div class="flex items-start space-x-2">
                            <div class="w-8 h-8 bg-green-500 rounded-full flex items-center justify-center text-white text-sm font-bold">E</div>
                            <div class="flex-1">
                                <div class="flex items-center space-x-2">
                                    <span class="font-semibold text-sm text-gray-900">Exposant (Bohicon)</span>
                                    <span class="text-xs text-gray-500">üáßüáØ</span>
                                    <span class="text-xs text-gray-500">Il y a 1 min</span>
                                </div>
                                <p class="text-sm text-gray-700">Oui, nous avons un pack de 6 savons bio pour 20 ‚Ç¨ ‚ú®</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="animate-fadeInUp">
                        <div class="flex items-start space-x-2">
                            <div class="w-8 h-8 bg-purple-500 rounded-full flex items-center justify-center text-white text-sm font-bold">D</div>
                            <div class="flex-1">
                                <div class="flex items-center space-x-2">
                                    <span class="font-semibold text-sm text-gray-900">Diaspora (Londres)</span>
                                    <span class="text-xs text-gray-500">üá¨ÔøΩ</span>
                                    <span class="text-xs text-gray-500">Il y a 30 sec</span>
                                </div>
                                <p class="text-sm text-gray-700">Comment commander depuis l'Europe ? üåç</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="animate-fadeInUp">
                        <div class="flex items-start space-x-2">
                            <div class="w-8 h-8 bg-gobot-blue rounded-full flex items-center justify-center text-white text-sm font-bold">G</div>
                            <div class="flex-1">
                                <div class="flex items-center space-x-2">
                                    <span class="font-semibold text-sm text-gobot-blue">GoBot Support</span>
                                    <span class="text-xs text-gray-500">√Ä l'instant</span>
                                </div>
                                <p class="text-sm text-gray-700">Cliquez sur "Commander" et nous nous occupons de tout ! üì¶‚úàÔ∏è</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Zone de saisie -->
                <div class="chat-input-section">
                    <div class="flex gap-2">
                        <input
                            id="message-input"
                            type="text"
                            placeholder="√âcrire un message..."
                            class="flex-1 border border-gray-300 rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-gobot-blue focus:border-transparent"
                            onkeypress="handleKeyPress(event)"
                        />
                        <button onclick="sendMessage()" class="bg-gobot-blue text-white px-4 py-2 rounded-lg hover:bg-opacity-90 transition-colors">
                            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 19l9 2-9-18-9 18 9-2zm0 0v-8"></path>
                            </svg>
                        </button>
                    </div>
                </div>
            </div>
            
            <!-- Produit mis en avant -->
            <div class="mt-6 p-4 border-2 border-red-200 rounded-xl bg-red-50">
                <div class="flex items-center mb-3">
                    <span class="bg-red-500 text-white text-xs px-2 py-1 rounded-full mr-2">üî• PROMO LIVE</span>
                    <span class="text-xs text-red-600 font-semibold">Offre sp√©ciale en cours</span>
                </div>
                <h3 class="font-bold mb-2 text-gray-900">Savon Noir Bio</h3>
                <p class="text-sm mb-3 text-gray-700">Pack de 6 savons naturels fabriqu√©s au B√©nin üáßüáØ</p>
                <div class="flex items-center justify-between">
                    <div>
                        <span class="font-bold text-lg text-red-600">20 ‚Ç¨</span>
                        <span class="text-sm text-gray-500 line-through ml-2">25 ‚Ç¨</span>
                    </div>
                    <button onclick="commanderProduit('savon-noir-bio')" class="bg-red-500 text-white px-4 py-2 rounded-lg hover:bg-red-600 transition-colors text-sm font-semibold">
                        Commander
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- JavaScript pour l'interactivit√© -->
    <script>
        // Menu mobile toggle
        const mobileMenuBtn = document.getElementById('mobile-menu-btn');
        const mobileMenu = document.getElementById('mobile-menu');

        mobileMenuBtn.addEventListener('click', () => {
            mobileMenu.classList.toggle('hidden');
        });

        // Simulation d'un compteur de viewers
        function updateViewerCount() {
            const count = document.getElementById('viewer-count');
            const currentCount = parseInt(count.textContent);
            const newCount = currentCount + Math.floor(Math.random() * 5) - 2;
            count.textContent = Math.max(200, newCount);
        }

        setInterval(updateViewerCount, 10000);

        // Fonction pour envoyer un message
        function sendMessage() {
            const input = document.getElementById('message-input');
            const message = input.value.trim();
            
            if (message) {
                const chatContainer = document.getElementById('chat-messages');
                const messageDiv = document.createElement('div');
                messageDiv.className = 'animate-fadeInUp';
                messageDiv.innerHTML = `
                    <div class="flex items-start space-x-2">
                        <div class="w-8 h-8 bg-blue-600 rounded-full flex items-center justify-center text-white text-sm font-bold">V</div>
                        <div class="flex-1">
                            <div class="flex items-center space-x-2">
                                <span class="font-semibold text-sm text-gray-900">Vous</span>
                                <span class="text-xs text-gray-500">√Ä l'instant</span>
                            </div>
                            <p class="text-sm text-gray-700">${message}</p>
                        </div>
                    </div>
                `;
                
                chatContainer.appendChild(messageDiv);
                chatContainer.scrollTop = chatContainer.scrollHeight;
                input.value = '';
            }
        }

        // Fonction pour g√©rer la touche Entr√©e
        function handleKeyPress(event) {
            if (event.key === 'Enter') {
                sendMessage();
            }
        }

        // Fonction pour commander un produit
        function commanderProduit(produit) {
            const message = `Je veux commander le ${produit} vu dans le live Diaspora Live Market`;
            window.open(`https://wa.me/22997970370?text=${encodeURIComponent(message)}`, '_blank');
        }

        // Simulation de nouveaux messages
        const sampleMessages = [
            { sender: "Diaspora (Berlin)", country: "üá©üá™", message: "Les produits sont-ils certifi√©s bio ?", avatar: "D", color: "bg-indigo-500" },
            { sender: "Exposant (Bohicon)", country: "üáßüáØ", message: "Oui, tous nos produits sont certifi√©s biologiques ! üåø", avatar: "E", color: "bg-green-500" },
            { sender: "Diaspora (Montreal)", country: "üá®üá¶", message: "Livraison possible au Canada ?", avatar: "D", color: "bg-red-500" },
            { sender: "GoBot Support", country: "", message: "Oui ! Livraison mondiale avec nos partenaires logistiques üåç", avatar: "G", color: "bg-gobot-blue" }
        ];

        function addRandomMessage() {
            const chatContainer = document.getElementById('chat-messages');
            const randomMessage = sampleMessages[Math.floor(Math.random() * sampleMessages.length)];
            
            const messageDiv = document.createElement('div');
            messageDiv.className = 'animate-fadeInUp';
            messageDiv.innerHTML = `
                <div class="flex items-start space-x-2">
                    <div class="w-8 h-8 ${randomMessage.color} rounded-full flex items-center justify-center text-white text-sm font-bold">${randomMessage.avatar}</div>
                    <div class="flex-1">
                        <div class="flex items-center space-x-2">
                            <span class="font-semibold text-sm text-gray-900">${randomMessage.sender}</span>
                            ${randomMessage.country ? `<span class="text-xs text-gray-500">${randomMessage.country}</span>` : ''}
                            <span class="text-xs text-gray-500">√Ä l'instant</span>
                        </div>
                        <p class="text-sm text-gray-700">${randomMessage.message}</p>
                    </div>
                </div>
            `;
            
            chatContainer.appendChild(messageDiv);
            chatContainer.scrollTop = chatContainer.scrollHeight;
        }

        // Ajouter des messages al√©atoirement
        setInterval(addRandomMessage, 15000);

        // V√©rifier si la vid√©o est disponible
        const video = document.getElementById('live-video');
        const noVideoMessage = document.getElementById('no-video-message');

        // Cacher le message par d√©faut car nous avons une vid√©o
        noVideoMessage.style.display = 'none';

        video.addEventListener('error', (e) => {
            console.log('Erreur de chargement vid√©o, tentative de la source suivante...');
            // Ne pas afficher le message d'erreur imm√©diatement, laisser les autres sources se charger
        });

        video.addEventListener('loadeddata', () => {
            noVideoMessage.style.display = 'none';
            console.log('Vid√©o charg√©e avec succ√®s');
        });

        video.addEventListener('canplay', () => {
            noVideoMessage.style.display = 'none';
        });

        // Si aucune source ne fonctionne apr√®s 5 secondes, afficher le message
        setTimeout(() => {
            if (video.readyState === 0) {
                noVideoMessage.style.display = 'flex';
            }
        }, 5000);
    </script>
</body>
</html>
